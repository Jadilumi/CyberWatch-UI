<ion-header>
  <ion-toolbar>
    <ion-title>Dashboard</ion-title>
    <ion-buttons slot="start">
      <ion-menu-button menu="main-menu"></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-grid>
    <!-- Seletor de Instituição -->
    <ion-row>
      <ion-col size="12">
        <ion-item>
          <ion-label>Selecione uma Instituição</ion-label>
          <ion-select [(ngModel)]="selectedCountry" (ionChange)="updateChartData()">
            <ion-select-option value="Todos">Todos</ion-select-option>
            <ion-select-option *ngFor="let country of countries" [value]="country">{{ country }}</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>

    <!-- Cartões -->
    <ion-row class="ion-justify-content-center ion-align-items-center">
      <ion-col size="12" size-lg="6">
        <!--Necessario trocar esse cartão para o necessário no projeto-->
        <app-card title="Bullying Total" [value]="germanyTotal"></app-card>
      </ion-col>
      <ion-col size="12" size-lg="6">
        <app-card
          title="Total de Bullying"
          [value]="selectedCountry === 'Todos' ? globalTotal : calculateTotal(selectedCountry)"
          style="color: black;">
        </app-card>
      </ion-col>
    </ion-row>

    <!-- Gráficos -->
    <ion-row class="ion-justify-content-start ion-align-items-start">
      <ion-col size="12" size-lg="6" size-xs="12" size-md="12">
        <p style="text-align: center;">Representação da Incidência de Bullying por Bloco
          <app-bar-chart [chartData]="barChartData" style="height: 400px; width: 100%;"></app-bar-chart>
        </p>
      </ion-col>
      <ion-col size="12" size-lg="6" size-xs="12" size-md="12">
        <p style="text-align: center;">Tipos de Bullying: Uma Análise em Pizza</p>
        <app-pie-chart [pieData]="genderPieChartData" style="height: 400px; width: 100%;"></app-pie-chart>
      </ion-col>
      <ion-col size="12" size-lg="6" size-xs="12" size-md="12">
        <app-horizontal-bar-chart [chartData]="horizontalBarChartData"
                                  style="height: 400px; width: 100%;"></app-horizontal-bar-chart>
      </ion-col>
      <ion-col size="12" size-lg="6" size-xs="12" size-md="12">
        <app-line-chart [chartData]="lineChartData" style="height: 400px; width: 100%;"></app-line-chart>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
